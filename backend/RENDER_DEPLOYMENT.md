# Render 部署配置

## 环境变量设置

在 Render Web Service 的 Environment Variables 中添加以下变量：

```
ENVIRONMENT=production
POSTGRES_USER=barsdb_j6q3_user
POSTGRES_PASSWORD=0CblXsLG5FxGqSw1EtozmWQr9dr0oIQr
POSTGRES_DB=barsdb_j6q3
POSTGRES_HOST=dpg-d22g8oemcj7s738h9780-a
POSTGRES_PORT=5432
PINATA_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIwNzQ0MzAyMy1hZWFmLTRmMjUtOTk4My1jNDEyZGVkMzE2NGUiLCJlbWFpbCI6ImxpdXBlcmN5QDE2My5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiNTUxODk5NDc4NTUyMzQzOWUxNDYiLCJzY29wZWRLZXlTZWNyZXQiOiIxYjNhMDM0YTU4ZjU2MjJiMzUwZmJkOGUyMmZlNmU3YmI4YmM4YTUwMTM4N2RlZDU5NzczZTU5NTcxODc1NmZjIiwiZXhwIjoxNzg0OTk3MDUzfQ.GxQTrpINoHnOU51LMHqEpUxzVkzWjKBUB2zK4JQZ7R0
PINATA_API_KEY=5518994785523439e146
PINATA_API_SECRET=1b3a034a58f5622b350fbd8e22fe6e7bb8bc8a501387ded59773e595718756fc
DEBUG=False
INIT_DB_ON_STARTUP=false
```

## 启动命令

```
uvicorn app.main:app --host 0.0.0.0 --port $PORT
```

## 注意事项

1. **ENVIRONMENT=production** 确保使用生产环境配置
2. **DEBUG=False** 生产环境关闭调试
3. **INIT_DB_ON_STARTUP=false** 生产环境不自动建表
4. **$PORT** 使用 Render 分配的端口 